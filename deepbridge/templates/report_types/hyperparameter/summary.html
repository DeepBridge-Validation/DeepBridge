{% from "components/cards/metric_card.html" import metric_card %}

<div class="summary-section">
    <div class="card">
        <h2>Hyperparameter Analysis Summary</h2>
        
        <div class="metrics-container">
            {{ metric_card(
                title="Optimization Metric", 
                value=optimization_metric|default('accuracy')|upper, 
                description="Metric used for hyperparameter optimization", 
                color="primary"
            ) }}
            
            {{ metric_card(
                title="Trials", 
                value=n_trials|default(0), 
                description="Number of hyperparameter combinations tested", 
                color="secondary"
            ) }}
            
            {{ metric_card(
                title="Best Score", 
                value=best_score|default(0)|round(4), 
                description="Best performance achieved during optimization", 
                color="success"
            ) }}
        </div>
        
        {% if best_params %}
        <div class="best-params">
            <h3>Best Parameters:</h3>
            <div class="params-table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Parameter</th>
                            <th>Value</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for param, value in best_params.items() %}
                        <tr>
                            <td>{{ param }}</td>
                            <td>{{ value }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
        {% endif %}
    </div>
</div>

<style>
    .summary-section {
        margin-bottom: 30px;
    }
    
    .best-params {
        margin-top: 20px;
    }
    
    .best-params h3 {
        margin-top: 0;
        margin-bottom: 15px;
        font-size: 18px;
    }
    
    .params-table-container {
        max-height: 300px;
        overflow-y: auto;
    }
</style>